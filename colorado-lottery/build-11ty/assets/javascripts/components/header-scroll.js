"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(s,t,i){return t&&e(s.prototype,t),i&&e(s,i),s}}(),HeaderScroll=function(){function e(){var s=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(_classCallCheck(this,e),0==document.body.classList.contains("ie11")){this.$el=s.el,this.layers=this.$el.querySelectorAll(".layer-scrolls"),this.numLayers=this.layers.length,this.offsets=[],this.targets=[];for(var t=0;t<this.numLayers;t++)this.offsets.push(0),this.targets.push(0);this.scrollUp=0,this.lastScroll=0,this.calcSizes(),this.scrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.scrollListener),this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener)}}return _createClass(e,[{key:"easeTo",value:function(e,s,t){return e-=(e-s)/t}},{key:"calcSizes",value:function(){this.windowH=window.innerHeight,this.headerH=this.$el.getBoundingClientRect().height,this.onScroll()}},{key:"onScroll",value:function(){if(!(window.scrollY>this.headerH)){this.scrollUp=this.lastScroll>window.scrollY;for(var e=this.headerH/this.numLayers,s=window.scrollY/this.headerH,t=0;t<this.numLayers;t++){var i=this.numLayers-t;this.targets[t]=i*e*s,this.layers[t].style.transform="translate3d(0px, "+this.targets[t]+"px, 0px)"}this.lastScroll=window.scrollY}}},{key:"onResize",value:function(){this.calcSizes()}},{key:"destroy",value:function(){this.scrollListener&&window.removeEventListener("scroll",this.scrollListener)}}]),e}();Bindable.register("header-scroll",HeaderScroll);